#!/bin/bash

# Make the files directory
mkdir /home/vagrant/files

# Create ca.crt file
cat << 'EOF' > /home/vagrant/files/ca.crt
-----BEGIN CERTIFICATE-----
MIID7zCCAtegAwIBAgIUJZOwsX02tQBBcP+eGNm7lijqJT4wDQYJKoZIhvcNAQEL
BQAwgYUxCzAJBgNVBAYTAlVTMRAwDgYDVQQIDAdGbG9yaWRhMRAwDgYDVQQHDAdP
cmxhbmRvMRYwFAYDVQQKDA1EaXNzbWV5ZXIuY29tMRYwFAYDVQQDDA1kaXNzbWV5
ZXIuY29tMSIwIAYJKoZIhvcNAQkBFhNhZG1pbkBkaXNzbWV5ZXIuY29tMCAXDTIx
MDUyODAxMDU0OFoYDzMwMjAwOTI4MDEwNTQ4WjCBhTELMAkGA1UEBhMCVVMxEDAO
BgNVBAgMB0Zsb3JpZGExEDAOBgNVBAcMB09ybGFuZG8xFjAUBgNVBAoMDURpc3Nt
ZXllci5jb20xFjAUBgNVBAMMDWRpc3NtZXllci5jb20xIjAgBgkqhkiG9w0BCQEW
E2FkbWluQGRpc3NtZXllci5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK
AoIBAQC9W8sJ9t9SB0gVOtYEPufJ6bSb46vX38XsOfibNzlqPpjb3F2Gxx9e5NIP
6CvFX1Kf1JLIjcj56x5lBx+xXgkr8oJBQse2gwMlH4U71W42s/ygDqrUP2AgLTSg
3ZUn17PaD9CcAOu1scsrYy0XEIGGz+PA0mNzKGwrkz+DLdgBa89SPy874sBFkoc2
7oz8Zr9gvaiMGtATs0cicELnB1lFu0pvzlM/mC4dCPb777RI4hq/QjQQ7+Lptt62
GKOC37NaQbRqtL4ugZW8rD+kXx7wmJYE5dGhDofA93dGCpTGwxgA1EOdKjLkYcr+
g60znJ0qGIbAvWzsFu6J3BOE1R4zAgMBAAGjUzBRMB0GA1UdDgQWBBSXTt0ZyVl9
L9AYw1/3fe5DBF9eBjAfBgNVHSMEGDAWgBSXTt0ZyVl9L9AYw1/3fe5DBF9eBjAP
BgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUAA4IBAQBd+cOml6NQCenYxxmz
qXMvtSCXFN+9YZCABTH3PEAAFpFWxoXTPvHaxHNtrpze+oAvpUfzBRCYpdZbcgVr
UIPdzjCoBIP7FYYD3fDyAc+DCbsvCRlKyP3pNpXPL6oxyQwTq1xc+yip/Mu1uqhl
kaxpUjH6RzlkE61w1jH0DttG4TrLO/pcJ5USjb6UFWlqzcTklCTUfGuJcMl1A7LT
uTkMk76aOSbIqXslL6VkcVfL1eMTxkSHr0toCZhYWqW6LeXeL6jygggwtQ1I72Hv
Zbmt13uOPEMzacp1sLiHDzOgaLu7dx+aRtJPzh4K1PDw0/TZf3sekb5/g/OzTesJ
e7Ve
-----END CERTIFICATE-----
EOF

# Create elasticsearch.crt file
cat << 'EOF' > /home/vagrant/files/elasticsearch.crt
-----BEGIN CERTIFICATE-----
MIIDgjCCAmoCAQEwDQYJKoZIhvcNAQELBQAwgYUxCzAJBgNVBAYTAlVTMRAwDgYD
VQQIDAdGbG9yaWRhMRAwDgYDVQQHDAdPcmxhbmRvMRYwFAYDVQQKDA1EaXNzbWV5
ZXIuY29tMRYwFAYDVQQDDA1kaXNzbWV5ZXIuY29tMSIwIAYJKoZIhvcNAQkBFhNh
ZG1pbkBkaXNzbWV5ZXIuY29tMCAXDTIxMDUyODAxMDgzMFoYDzMwMjAwOTI4MDEw
ODMwWjCBhTELMAkGA1UEBhMCVVMxEDAOBgNVBAgMB0Zsb3JpZGExEDAOBgNVBAcM
B09ybGFuZG8xFjAUBgNVBAoMDURpc3NtZXllci5jb20xFjAUBgNVBAMMDWRpc3Nt
ZXllci5jb20xIjAgBgkqhkiG9w0BCQEWE2FkbWluQGRpc3NtZXllci5jb20wggEi
MA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDgzSMPoUjdma5SYYCwSRGmZJYG
ftlrzi3vJs887XpJAVVv/dGjOeNFkeIkI5GJz7p3WHq5Ss0+jNabBjfCrxcs3e3R
Jrg+eu67utQzGWZ9amZCDebmnK9kODe3eJQkkdM0ougp41bZYp3LsxdgYc3A+FFx
rCKabrdx/NGxH3vyPu2dh/Eo38sD/6rB8bzeDviQKc4Jbfkv500truaNh7hl+/Q4
IuLzbsvJdgjUkqTmhTkP2g3iYDm1d2L2poTtJmvwHT92b2MN52UpJ1/aQmlbLWFi
RLX5CxCYncUDyzSi9mnZaPFi2ke2vhF6gnUvbp+G8aXto5JhWIV1DgmECA0bAgMB
AAEwDQYJKoZIhvcNAQELBQADggEBAFkAXdCP4wDRfyW6D3V/Fn6XZH4jEEq+ruqn
f/VYcqvU7RaSpzL4GyekWPgDMJ73Tno+01Jp719CRTOjFNcq7E/2+nOiAwX1bObz
yZroP1QUn+OpQPLCXphDgu4Vzq6+JJLC1ezJ7mt+A9oVcMYTFdGoc3J4y42HFq3n
5MIdHKUc4McIPcJGZP/CjkkpcAw4ZQbrbOlICj9RlTRCmimwT3wSxsrKSbqDRFxP
35hUd5OiEIzG6VquxbWRmg/+v0+chC7wkKCtljPee5IV/zmUHHdYNv+ct6hUQ9ud
H9AjLovrYW3qiMPxGmFLlhj7Ak1h8oLX2P41IP71HU45iuXWWtI=
-----END CERTIFICATE-----
EOF

# Create elasticsearch.key file
cat << 'EOF' > /home/vagrant/files/elasticsearch.key
-----BEGIN RSA PRIVATE KEY-----
MIIEpAIBAAKCAQEA4M0jD6FI3ZmuUmGAsEkRpmSWBn7Za84t7ybPPO16SQFVb/3R
oznjRZHiJCORic+6d1h6uUrNPozWmwY3wq8XLN3t0Sa4Pnruu7rUMxlmfWpmQg3m
5pyvZDg3t3iUJJHTNKLoKeNW2WKdy7MXYGHNwPhRcawimm63cfzRsR978j7tnYfx
KN/LA/+qwfG83g74kCnOCW35L+dNLa7mjYe4Zfv0OCLi827LyXYI1JKk5oU5D9oN
4mA5tXdi9qaE7SZr8B0/dm9jDedlKSdf2kJpWy1hYkS1+QsQmJ3FA8s0ovZp2Wjx
YtpHtr4ReoJ1L26fhvGl7aOSYViFdQ4JhAgNGwIDAQABAoIBAHNme0gryIcRvF5H
9VMJv4jGfAmLlrtz1Tq+loY1dqABkkVya+q57cSp9ggNRkoTnCpl/mIeVyx0Cjr8
vyUu0tvSdaH3mX9hhipS51nwASACvcnM7yqVZqgw/9EskggP3/dWZY4TSWNA77ZB
EpAExSX5k32iGwViLsPSQCcH/Y3F76AsFgNJaCvQekoBjT6wMiILKsf8SOBce0fU
DyjQhSXnEZhjVij7WCBbIpLqKVLbOFWDuhC+t3rF8+J1B2HEyVk2U6NmYpPCx27k
d4RyTFv978V/9bE8nUAJ57up9IPO5iCMS6yyBqTBr1lRalVBn5tPSyfMB4oFR7OK
hvbbLOkCgYEA+aUWVLNl21NFY5ls9X2ii4oKFoyn6arjcSNMpU9nU0sk4/zEyk4H
m8HLmSyZNTVgoXmw0wSEGgzHexykuyiz2ZL2xv+cQLl9wYxV1YsORK9oJeEYGPbw
vBM0Oda+l8J850ia9H+EkJMeFVMxX3t66brzcndhzuMvHyc/+baPqCUCgYEA5oYl
hEQcjSXp52JCYrvuA4bRX2Ssq15ZdZoHntaQ96RHHUNfgec8J/lV39rj6GISCghY
jD6fGlgKVlnSOy+INjMuBxpNj3n/+3zE1GEKkzeBa4nxNq090uoXAdiv7hfCwAe+
Fx4M7/eWXbKCDaegD+JL7ycI8zH4mHsnmLyhPD8CgYEA1z1wQH0gr/Ze2F37JLo6
wCa3RfPl/kC5st1lgw4wHw+l8fAI2Aho5PE1Eo7yVX79HpwmSfoVz8P+5fWvTjLs
xgXBQZg3Z1LGy26svt4S4kN9/1LRDQ00SGQiXk/5qi0kteDSwUWEzYYapPZClnmH
YyguKB4oNVGJWknkDfBKcgUCgYAQ4kJdLZ/ptp0rFUdHc/w6xeUP14/N/VsQAfgM
6ioz+RQ8UHLuUMFXLCvd+Wo32vb3RSU3IF8Gzuvy5yE+tHyFe7ojSwnjOExHXxwL
chAUODyCY9gG6SleCUcmG3jHN3ZMGkUR7GGGMdwRgMGFvoE6qJhnK7S8GyzZ/iso
RKiKgQKBgQCbHouPx28nzBlLBpiBmEPl+2n1s2uVE7HzTBVbj8oMq8GMhybx67h8
rcuFPKvBrtWAUDBOlm/T7iz9eeYYiigNkYoG8XZIafpa6LN5a1Yu2Y03IJoM5Kn3
s32Ay3b2rHbYNAP2pwbRigDCYbiW9tAMcEnKtAaKQztzAn+qQyq21A==
-----END RSA PRIVATE KEY-----
EOF

# Fix permissions
chmod 700 /home/vagrant/files/*
chown -R vagrant:vagrant /home/vagrant/files/*